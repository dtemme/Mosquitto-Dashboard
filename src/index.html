<!DOCTYPE html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Mosquitto MQTT Dashboard</title>
    <!-- stylesheets(2) for login modal popup -->
    <link
      rel="stylesheet"
      href="https://code.jquery.com/ui/1.14.1/themes/base/jquery-ui.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7"
      crossorigin="anonymous"
    />
    <link rel="icon" href="mosquitto_favicon.png" sizes="16x16" />
    <style>
      .widget {
        text-align: center;
      }

      .card-header {
        background-color: #1087dd;
        font-size: large;
        text-align: center;
      }

      .card-body {
        padding-top: 0.3rem;
        height: 30px;
      }
    </style>
  </head>
  <body>
    <div id="mainPage">
      <div class="container-fluid">
        <div class="row pt-0 pb-0">
          <div class="col-xl-3 col-sm-6 mb-0 pr-1">
            <img src="./mosquitto.png" height="30" />
          </div>
          <div class="col-xl-3 col-sm-6 mb-0 pr-1">
            <div class="card mt-3">
              <div class="card-header text-white font-weight-bold">
                <span class="text">Uptime</span>
              </div>
              <div class="card-body">
                <div class="widget" id="widget4"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="container-fluid mt-0">
        <div class="row">
          <div class="col-xl-3 col-sm-6 mb-3 pr-1">
            <div class="card mt-3">
              <div class="card-header text-white font-weight-bold">
                <span class="text">Messages Received</span>
              </div>
              <div class="card-body">
                <div class="widget" id="widget1"></div>
              </div>
            </div>
          </div>
          <div class="col-xl-3 col-sm-6 mb-3 pr-1">
            <div class="card mt-3">
              <div class="card-header text-white font-weight-bold">
                <span class="text">Messages Sent</span>
              </div>
              <div class="card-body">
                <div class="widget" id="widget2"></div>
              </div>
            </div>
          </div>
          <div class="col-xl-3 col-sm-6 mb-3 pr-1">
            <div class="card mt-3">
              <div class="card-header text-white font-weight-bold">
                <span class="text">Retained Messages Count</span>
              </div>
              <div class="card-body">
                <div class="widget" id="widget6"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-xl-3 col-sm-6 mb-3 pr-1">
            <div class="card mt-3">
              <div class="card-header text-white font-weight-bold">
                <span class="text">Clients Total</span>
              </div>
              <div class="card-body">
                <div class="widget" id="widget3"></div>
              </div>
            </div>
          </div>
          <div class="col-xl-3 col-sm-6 mb-3 pr-1">
            <div class="card mt-3">
              <div class="card-header text-white font-weight-bold">
                <span class="text">Clients Connected</span>
              </div>
              <div class="card-body">
                <div class="widget" id="widget7"></div>
              </div>
            </div>
          </div>
          <div class="col-xl-3 col-sm-6 mb-3 pr-1">
            <div class="card mt-3">
              <div class="card-header text-white font-weight-bold">
                <span class="text">Clients Disconnected</span>
              </div>
              <div class="card-body">
                <div class="widget" id="widget8"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-xl-3 col-sm-6 mb-3 pr-1">
            <div class="card mt-3">
              <div class="card-header text-white font-weight-bold">
                <span class="text">Messages Stored</span>
              </div>
              <div class="card-body">
                <div class="widget" id="widget9"></div>
              </div>
            </div>
          </div>
          <div class="col-xl-3 col-sm-6 mb-3 pr-1">
            <div class="card mt-3">
              <div class="card-header text-white font-weight-bold">
                <span class="text">Subscriptions Count</span>
              </div>
              <div class="card-body">
                <div class="widget" id="widget10"></div>
              </div>
            </div>
          </div>
          <div class="col-xl-3 col-sm-6 mb-3 pr-1">
            <div class="card mt-3">
              <div class="card-header text-white font-weight-bold">
                <span class="text">Publish Messages Dropped</span>
              </div>
              <div class="card-body">
                <div class="widget" id="widget13"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-xl-3 col-sm-6 mb-3 pr-1">
            <div class="card mt-3">
              <div class="card-header text-white font-weight-bold">
                <span class="text">Avg Messages Received 1 min</span>
              </div>
              <div class="card-body">
                <div class="widget" id="widget14"></div>
              </div>
            </div>
          </div>
          <div class="col-xl-3 col-sm-6 mb-3 pr-1">
            <div class="card mt-3">
              <div class="card-header text-white font-weight-bold">
                <span class="text">Avg Messages Received 5 min</span>
              </div>
              <div class="card-body">
                <div class="widget" id="widget15"></div>
              </div>
            </div>
          </div>
          <div class="col-xl-3 col-sm-6 mb-3 pr-1">
            <div class="card mt-3">
              <div class="card-header text-white font-weight-bold">
                <span class="text">Avg Messages Received 15 min</span>
              </div>
              <div class="card-body">
                <div class="widget" id="widget16"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-xl-3 col-sm-6 mb-3 pr-1">
            <div class="card mt-3">
              <div class="card-header text-white font-weight-bold">
                <span class="text">Avg Messages Sent 1 min</span>
              </div>
              <div class="card-body">
                <div class="widget" id="widget17"></div>
              </div>
            </div>
          </div>
          <div class="col-xl-3 col-sm-6 mb-3 pr-1">
            <div class="card mt-3">
              <div class="card-header text-white font-weight-bold">
                <span class="text">Avg Messages Sent 5 min</span>
              </div>
              <div class="card-body">
                <div class="widget" id="widget18"></div>
              </div>
            </div>
          </div>
          <div class="col-xl-3 col-sm-6 mb-3 pr-1">
            <div class="card mt-3">
              <div class="card-header text-white font-weight-bold">
                <span class="text">Avg Messages Sent 15 min</span>
              </div>
              <div class="card-body">
                <div class="widget" id="widget19"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-xl-3 col-sm-6 mb-3 pr-1">
            <div class="card mt-3">
              <div class="card-header text-white font-weight-bold">
                <span class="text">Avg Socket Connections 1 min</span>
              </div>
              <div class="card-body">
                <div class="widget" id="widget20"></div>
              </div>
            </div>
          </div>
          <div class="col-xl-3 col-sm-6 mb-3 pr-1">
            <div class="card mt-3">
              <div class="card-header text-white font-weight-bold">
                <span class="text">Avg Socket Connections 5 min</span>
              </div>
              <div class="card-body">
                <div class="widget" id="widget21"></div>
              </div>
            </div>
          </div>
          <div class="col-xl-3 col-sm-6 mb-3 pr-1">
            <div class="card mt-3">
              <div class="card-header text-white font-weight-bold">
                <span class="text">Avg Socket Connections 15 min</span>
              </div>
              <div class="card-body">
                <div class="widget" id="widget22"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- div for login modal popup -->
    <div id="dialog-form" title="User Authentication">
      <p id="validateHeader" class="validateTips">
        All form fields are required.
      </p>
      <form>
        <fieldset>
          <label for="username">Username</label>
          <input
            type="text"
            name="username"
            id="username"
            class="text ui-widget-content ui-corner-all"
            tabindex="1"
          />
          <label for="password">Password</label>
          <input
            type="password"
            name="password"
            id="password"
            class="text ui-widget-content ui-corner-all"
            tabindex="2"
          />
          <br />
          <input
            type="button"
            value="Login"
            tabindex="3"
            id="credentailsSubmit"
          />
        </fieldset>
      </form>
    </div>
    <!-- jquery-ui javascript for login modal popup -->
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://code.jquery.com/ui/1.14.1/jquery-ui.min.js"
      integrity="sha256-AlTido85uXPlSyyaZNsjJXeCs07eSv3r43kyCVc8ChI="
      crossorigin="anonymous"
    ></script>
    <script src="./js/paho-mqtt-min.js"></script>
    <script src="./js/dashboard.js"></script>
    <script>
      $(document).ready(function () {
        setTimeout(function () {
          document.body.style.opacity = "100";
        }, 500);
        $("#mainPage").hide();
      });
    </script>
    <script>
      //All the values are required
      CreateWidget({
        bindto: "widget1",
        datastream: "$SYS/broker/messages/received",
        type: "labeltext",
        label: "",
        height: 20,
      });
      CreateWidget({
        bindto: "widget2",
        datastream: "$SYS/broker/messages/sent",
        type: "labeltext",
        label: "",
        height: 20,
      });
      CreateWidget({
        bindto: "widget3",
        datastream: "$SYS/broker/clients/total",
        type: "labeltext",
        label: "",
        height: 20,
      });
      CreateWidget({
        bindto: "widget4",
        datastream: "$SYS/broker/uptime",
        type: "labeltext",
        // height: 200
      });
      CreateWidget({
        bindto: "widget6",
        datastream: "$SYS/broker/retained messages/count",
        type: "labeltext",
        // height: 200
      });
      CreateWidget({
        bindto: "widget7",
        datastream: "$SYS/broker/clients/connected",
        type: "labeltext",
        // height: 200
      });
      CreateWidget({
        bindto: "widget8",
        datastream: "$SYS/broker/clients/disconnected",
        type: "labeltext",
        // height: 200
      });
      CreateWidget({
        bindto: "widget9",
        datastream: "$SYS/broker/messages/stored",
        type: "labeltext",
        // height: 200
      });
      CreateWidget({
        bindto: "widget10",
        datastream: "$SYS/broker/subscriptions/count",
        type: "labeltext",
        // height: 200
      });
      CreateWidget({
        bindto: "widget11",
        datastream: "$SYS/broker/publish/messages/received",
        type: "labeltext",
        // height: 200
      });
      CreateWidget({
        bindto: "widget12",
        datastream: "$SYS/broker/publish/messages/sent",
        type: "labeltext",
        // height: 200
      });
      CreateWidget({
        bindto: "widget13",
        datastream: "$SYS/broker/publish/messages/dropped",
        type: "labeltext",
        // height: 200
      });
      CreateWidget({
        bindto: "widget14",
        datastream: "$SYS/broker/load/messages/received/1min",
        type: "labeltext",
        // height: 200
      });
      CreateWidget({
        bindto: "widget15",
        datastream: "$SYS/broker/load/messages/received/5min",
        type: "labeltext",
        // height: 200
      });
      CreateWidget({
        bindto: "widget16",
        datastream: "$SYS/broker/load/messages/received/15min",
        type: "labeltext",
        // height: 200
      });
      CreateWidget({
        bindto: "widget17",
        datastream: "$SYS/broker/load/messages/sent/1min",
        type: "labeltext",
        // height: 200
      });
      CreateWidget({
        bindto: "widget18",
        datastream: "$SYS/broker/load/messages/sent/5min",
        type: "labeltext",
        // height: 200
      });
      CreateWidget({
        bindto: "widget19",
        datastream: "$SYS/broker/load/messages/sent/15min",
        type: "labeltext",
        // height: 200
      });
      CreateWidget({
        bindto: "widget20",
        datastream: "$SYS/broker/load/sockets/1min",
        type: "labeltext",
        // height: 200
      });
      CreateWidget({
        bindto: "widget21",
        datastream: "$SYS/broker/load/sockets/5min",
        type: "labeltext",
        // height: 200
      });
      CreateWidget({
        bindto: "widget22",
        datastream: "$SYS/broker/load/sockets/15min",
        type: "labeltext",
        // height: 200
      });
    </script>
  </body>
</html>
